# Stash å®Œæ•´é…ç½®æ–‡ä»¶
# é€‚ç”¨äºæ²¡æœ‰æœºåœºè®¢é˜…çš„ç”¨æˆ·ï¼Œéœ€æ‰‹åŠ¨æ·»åŠ èŠ‚ç‚¹

# ==========================================
# åŸºç¡€è®¾ç½®
# ==========================================
mode: rule
log-level: info

# ==========================================
# ä»£ç†èŠ‚ç‚¹ï¼ˆè¯·æ‰‹åŠ¨æ·»åŠ ä½ çš„èŠ‚ç‚¹ï¼‰
# ==========================================
proxies:
  # ç¤ºä¾‹èŠ‚ç‚¹ï¼ˆè¯·æ›¿æ¢ä¸ºä½ çš„çœŸå®èŠ‚ç‚¹ï¼‰
  # - name: "ğŸ‡­ğŸ‡° é¦™æ¸¯01"
  #   type: ss
  #   server: hk1.example.com
  #   port: 443
  #   cipher: chacha20-ietf-poly1305
  #   password: your-password

  # è½åœ°æœºèŠ‚ç‚¹ï¼ˆé“¾å¼ä»£ç†ç”¨ï¼‰
  - name: "ğŸ  è½åœ°æœº"
    type: socks5
    server: YOUR_SERVER_IP
    port: 443
    username: YOUR_USERNAME
    password: YOUR_PASSWORD
    tls: false
    skip-cert-verify: true

# ==========================================
# è¿œç¨‹ä»£ç†é›†ï¼ˆæœºåœºè®¢é˜…ï¼‰
# ==========================================
proxy-providers:
  # ç¤ºä¾‹ï¼šå–æ¶ˆæ³¨é‡Šå¹¶æ›¿æ¢ä¸ºä½ çš„è®¢é˜…åœ°å€
  # my-subscription:
  #   url: https://your-subscription-url
  #   interval: 3600
  #   health-check:
  #     enable: true
  #     url: https://www.gstatic.com/generate_204
  #     interval: 300

# ==========================================
# è¿œç¨‹è§„åˆ™é›†
# ==========================================
rule-providers:
  Custom_Direct_Classical:
    behavior: classical
    format: yaml
    url: https://testingcf.jsdelivr.net/gh/Aethersailor/Custom_OpenClash_Rules@main/rule/Custom_Direct_Classical.yaml
    interval: 28800

  Custom_Proxy_Classical:
    behavior: classical
    format: yaml
    url: https://testingcf.jsdelivr.net/gh/Aethersailor/Custom_OpenClash_Rules@main/rule/Custom_Proxy_Classical.yaml
    interval: 28800

  Steam_CDN_Classical:
    behavior: classical
    format: yaml
    url: https://testingcf.jsdelivr.net/gh/Aethersailor/Custom_OpenClash_Rules@main/rule/Steam_CDN_Classical.yaml
    interval: 2880

  Custom_Port_Direct:
    behavior: classical
    format: yaml
    url: https://testingcf.jsdelivr.net/gh/Aethersailor/Custom_OpenClash_Rules@main/rule/Custom_Port_Direct.yaml
    interval: 28800

# ==========================================
# ç­–ç•¥ç»„
# ==========================================
proxy-groups:
  # ä¸»åŠ›ä»£ç†
  - name: "ğŸš€ ä¸»åŠ›ä»£ç†"
    type: select
    proxies:
      - "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
      - "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹"
      - "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹"
      - "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹"
      - "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹"
      - "ğŸŒ å…¶ä»–åœ°åŒº"
      - DIRECT

  # è‡ªåŠ¨é€‰æ‹©
  - name: "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
    type: url-test
    include-all: true
    url: https://www.gstatic.com/generate_204
    interval: 250
    tolerance: 50

  # é“¾å¼ä»£ç†
  - name: "ğŸ”— é“¾å¼ä»£ç†"
    type: relay
    proxies:
      - "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹"
      - "ğŸ  è½åœ°æœº"

  # AI æœåŠ¡
  - name: "ğŸ¤– ChatGPT"
    type: select
    proxies:
      - "ğŸ”— é“¾å¼ä»£ç†"
      - "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹"
      - "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹"
      - "ğŸš€ ä¸»åŠ›ä»£ç†"

  - name: "ğŸ¤– Copilot"
    type: select
    proxies:
      - "ğŸ”— é“¾å¼ä»£ç†"
      - "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹"
      - "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹"
      - "ğŸš€ ä¸»åŠ›ä»£ç†"

  - name: "ğŸ¤– AIæœåŠ¡"
    type: select
    proxies:
      - "ğŸ”— é“¾å¼ä»£ç†"
      - "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹"
      - "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹"
      - "ğŸš€ ä¸»åŠ›ä»£ç†"

  # è°·æ­ŒæœåŠ¡
  - name: "ğŸ‡¬ è°·æ­ŒæœåŠ¡"
    type: select
    proxies:
      - "ğŸ”— é“¾å¼ä»£ç†"
      - "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹"
      - "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹"
      - "ğŸš€ ä¸»åŠ›ä»£ç†"

  # åŠŸèƒ½ç­–ç•¥ç»„
  - name: "ğŸ’¬ å³æ—¶é€šè®¯"
    type: select
    proxies:
      - "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹"
      - "ğŸš€ ä¸»åŠ›ä»£ç†"
      - DIRECT

  - name: "ğŸŒ ç¤¾äº¤åª’ä½“"
    type: select
    proxies:
      - "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹"
      - "ğŸš€ ä¸»åŠ›ä»£ç†"

  - name: "ğŸ® Steam"
    type: select
    proxies:
      - "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹"
      - "ğŸš€ ä¸»åŠ›ä»£ç†"
      - DIRECT

  - name: "ğŸ è‹¹æœæœåŠ¡"
    type: select
    proxies:
      - DIRECT
      - "ğŸš€ ä¸»åŠ›ä»£ç†"

  - name: "â“‚ï¸ å¾®è½¯æœåŠ¡"
    type: select
    proxies:
      - DIRECT
      - "ğŸš€ ä¸»åŠ›ä»£ç†"

  # åœ°åŒºåˆ†ç»„
  - name: "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹"
    type: load-balance
    strategy: round-robin
    include-all: true
    filter: 'æ¸¯|HK|Hong\s*Kong'
    url: https://www.gstatic.com/generate_204
    interval: 250

  - name: "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹"
    type: url-test
    include-all: true
    filter: 'ç¾|US|United\s*States|æ´›æ‰çŸ¶|ç¡…è°·'
    url: https://www.gstatic.com/generate_204
    interval: 250
    tolerance: 50

  - name: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹"
    type: load-balance
    strategy: round-robin
    include-all: true
    filter: 'æ—¥æœ¬|JP|Japan|ä¸œäº¬|å¤§é˜ª'
    url: https://www.gstatic.com/generate_204
    interval: 250

  - name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹"
    type: load-balance
    strategy: round-robin
    include-all: true
    filter: 'æ–°åŠ å¡|SG|Singapore'
    url: https://www.gstatic.com/generate_204
    interval: 250

  - name: "ğŸŒ å…¶ä»–åœ°åŒº"
    type: select
    include-all: true

  # å›ºå®šåˆ†ç»„
  - name: "ğŸ¯ å…¨çƒç›´è¿"
    type: select
    proxies:
      - DIRECT

  - name: "ğŸŸ æ¼ç½‘ä¹‹é±¼"
    type: select
    proxies:
      - "ğŸš€ ä¸»åŠ›ä»£ç†"
      - DIRECT

# ==========================================
# åˆ†æµè§„åˆ™
# ==========================================
rules:
  # ç§æœ‰ç½‘ç»œ
  - GEOSITE,private,ğŸ¯ å…¨çƒç›´è¿
  - GEOIP,private,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - RULE-SET,Custom_Direct_Classical,ğŸ¯ å…¨çƒç›´è¿

  # AI æœåŠ¡
  - DOMAIN-SUFFIX,openai.com,ğŸ¤– ChatGPT
  - DOMAIN-SUFFIX,chatgpt.com,ğŸ¤– ChatGPT
  - GEOSITE,openai,ğŸ¤– ChatGPT
  - GEOSITE,bing,ğŸ¤– Copilot
  - DOMAIN-SUFFIX,gemini.google.com,ğŸ¤– AIæœåŠ¡
  - DOMAIN-SUFFIX,anthropic.com,ğŸ¤– AIæœåŠ¡
  - DOMAIN-SUFFIX,claude.ai,ğŸ¤– AIæœåŠ¡
  - GEOSITE,category-ai-!cn,ğŸ¤– AIæœåŠ¡

  # è°·æ­ŒæœåŠ¡
  - GEOSITE,google,ğŸ‡¬ è°·æ­ŒæœåŠ¡
  - GEOSITE,youtube,ğŸ‡¬ è°·æ­ŒæœåŠ¡

  # åŠŸèƒ½åˆ†æµ
  - GEOSITE,category-communication,ğŸ’¬ å³æ—¶é€šè®¯
  - GEOSITE,category-social-media-!cn,ğŸŒ ç¤¾äº¤åª’ä½“
  - GEOSITE,steam,ğŸ® Steam
  - GEOSITE,apple,ğŸ è‹¹æœæœåŠ¡
  - GEOSITE,microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡

  # è‡ªå®šä¹‰ä»£ç†
  - RULE-SET,Custom_Proxy_Classical,ğŸš€ ä¸»åŠ›ä»£ç†

  # å›½å†…ç›´è¿
  - GEOSITE,google-cn,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Steam_CDN_Classical,ğŸ¯ å…¨çƒç›´è¿
  - GEOSITE,cn,ğŸ¯ å…¨çƒç›´è¿
  - GEOIP,cn,ğŸ¯ å…¨çƒç›´è¿,no-resolve

  # GFW åˆ—è¡¨
  - GEOSITE,gfw,ğŸš€ ä¸»åŠ›ä»£ç†

  # æ¼ç½‘ä¹‹é±¼
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

# ==========================================
# DNS é…ç½®
# ==========================================
dns:
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  nameserver:
    - 223.5.5.5
    - 119.29.29.29
    - 8.8.8.8
  fallback:
    - https://dns.cloudflare.com/dns-query
    - https://dns.google/dns-query
  fallback-filter:
    geoip: true
    geoip-code: CN
  fake-ip-filter:
    - "+.lan"
    - "+.local"
    - "time.*.com"
    - "ntp.*.com"
